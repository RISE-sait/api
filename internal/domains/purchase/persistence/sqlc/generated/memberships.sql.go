// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: memberships.sql

package db

import (
	"context"
	"database/sql"
	"time"

	"github.com/google/uuid"
)

const purchaseMembership = `-- name: PurchaseMembership :execrows
INSERT INTO customer_membership_plans (customer_id, membership_plan_id, status, start_date, renewal_date)
VALUES ($1, $2, $3, $4, $5)
`

type PurchaseMembershipParams struct {
	CustomerID       uuid.UUID        `json:"customer_id"`
	MembershipPlanID uuid.NullUUID    `json:"membership_plan_id"`
	Status           MembershipStatus `json:"status"`
	StartDate        time.Time        `json:"start_date"`
	RenewalDate      sql.NullTime     `json:"renewal_date"`
}

func (q *Queries) PurchaseMembership(ctx context.Context, arg PurchaseMembershipParams) (int64, error) {
	result, err := q.db.ExecContext(ctx, purchaseMembership,
		arg.CustomerID,
		arg.MembershipPlanID,
		arg.Status,
		arg.StartDate,
		arg.RenewalDate,
	)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected()
}
